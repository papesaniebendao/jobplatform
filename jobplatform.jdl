enum RoleUtilisateur {
  CANDIDAT,
  RECRUTEUR
}

enum StatutCandidature {
  EN_ATTENTE,
  ACCEPTEE,
  REFUSEE
}

entity Utilisateur {
  prenom String,                // Pour candidat (optionnel)
  nom String ,          // Pour candidat ou recruteur
  nomEntreprise String,         // Pour recruteur (optionnel)
  secteurActivite String,       // Pour recruteur (optionnel)
  telephone String,
  role RoleUtilisateur required,
  isActive Boolean required
}

entity CV {
  urlFichier String required,
  nomFichier String,
  dateUpload Instant
}

entity TypeContrat {
  nom String required
}

entity OffreEmploi {    
  titre String required,
  description String required,
  localisation String required,
  salaire Double,
  datePublication Instant required,
  dateExpiration Instant,
  isActive Boolean
}

entity Candidature {
  datePostulation Instant required,
  statut StatutCandidature required
}

relationship OneToOne {
  Utilisateur{user(login)} to User with builtInEntity,
  Utilisateur{cv} to CV
}

relationship ManyToOne {    
  OffreEmploi{typeContrat} to TypeContrat,
  OffreEmploi{recruteur} to Utilisateur,
  Candidature{candidat} to Utilisateur,
  Candidature{offreEmploi} to OffreEmploi
}

dto * with mapstruct
paginate OffreEmploi, Candidature with pagination
service * with serviceClass
